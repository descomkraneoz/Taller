DROP DATABASE IF EXISTS TALLER;
CREATE DATABASE IF NOT EXISTS TALLER;
USE TALLER;

DROP TABLE IF EXISTS VEHICULO;
CREATE TABLE IF NOT EXISTS VEHICULO(
	 idVehiculo INT(4) PRIMARY KEY,
     matricula VARCHAR(7) UNIQUE,
     esElectrico BOOLEAN NOT NULL DEFAULT FALSE,     
	 fechaMatriculacion DATE NOT NULL);
	 
DROP TABLE IF EXISTS MECANICO;
CREATE TABLE IF NOT EXISTS MECANICO(
	 idMecanico INT(4) PRIMARY KEY,
	 nombreMecanico VARCHAR(100) NOT NULL);

DROP TABLE IF EXISTS VEHICULOMECANICO;
CREATE TABLE IF NOT EXISTS VEHICULOMECANICO(
	 idMecanico INT(4) NOT NULL,
	 idVehiculo INT(4) NOT NULL,
PRIMARY KEY (idMecanico, idVehiculo ),
  KEY idMecanico (idMecanico),
  CONSTRAINT idmeca_mecveh_01 
   FOREIGN KEY (idMecanico) REFERENCES MECANICO (idMecanico) ON UPDATE CASCADE ON DELETE CASCADE,
  CONSTRAINT idvehi_mecveh_02 
   FOREIGN KEY (idVehiculo) REFERENCES VEHICULO (idVehiculo) ON UPDATE CASCADE ON DELETE CASCADE);
